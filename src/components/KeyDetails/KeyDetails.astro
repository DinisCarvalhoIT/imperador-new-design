---
import { Image } from "astro:assets";
import keyDetailsImage from "../../../public/KeyDetails/Rectangle.png";
import logoImperador from "../../../public/HomePage/logoImperador.svg";
import beachIcon from "../../../public/KeyDetails/beach.svg";
import building from "../../../public/KeyDetails/building.svg";
import coffee from "../../../public/KeyDetails/coffe.svg";
import gym from "../../../public/KeyDetails/gym.svg";
import pharmacy from "../../../public/KeyDetails/pharmacy.svg";
import bus from "../../../public/KeyDetails/bus.svg";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const dataKeyDetails = [
  {
    title: t("keydetails.beach.title"),
    description: t("keydetails.beach.description"),
    secondDescription: t("keydetails.beach.second_description"),
    svgPath: beachIcon,
  },
  {
    title: t("keydetails.shopping.title"),
    description: t("keydetails.shopping.description"),
    secondDescription: t("keydetails.shopping.second_description"),
    svgPath: building,
  },
  {
    title: t("keydetails.restaurants.title"),
    description: t("keydetails.restaurants.description"),
    secondDescription: t("keydetails.restaurants.second_description"),
    svgPath: coffee,
  },
  {
    title: t("keydetails.gyms.title"),
    description: t("keydetails.gyms.description"),
    svgPath: gym,
  },
  {
    title: t("keydetails.hospital.title"),
    description: t("keydetails.hospital.description"),
    svgPath: pharmacy,
  },
  {
    title: t("keydetails.transport.title"),
    description: t("keydetails.transport.description"),
    svgPath: bus,
  },
];
---

<section
  class="w-full min-h-screen flex flex-col items-center justify-center relative"
>
  <div class="absolute inset-0 w-full h-full -z-10">
    <Image
      src={keyDetailsImage}
      alt="Floor Plans"
      class="w-full h-full object-cover"
    />
    <div
      class="absolute inset-0 w-full h-full"
      style="background: linear-gradient(359.44deg, rgba(11, 29, 38, 0) 0.43%, #092635 99.46%); transform: rotate(-180deg);"
    >
    </div>
    <div
      class="absolute inset-0 w-full h-full"
      style="background: linear-gradient(359.44deg, rgba(11, 29, 38, 0) 0.43%, rgba(9, 38, 53, 0.9) 99.46%);"
    >
    </div>
  </div>

  <div
    class="z-10 flex flex-col items-center gap-8 md:gap-12 px-4 py-8 md:py-12 max-w-7xl mx-auto"
  >
    <Image
      src={logoImperador}
      alt={t("keydetails.logo_alt")}
      class="w-48 md:w-56 lg:w-64 h-auto"
    />

    <div class="grid grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 w-full">
      {
        dataKeyDetails.map((item) => (
          <div class="flex flex-col items-center text-center gap-3 md:gap-4 p-4 md:p-6">
            <Image
              src={item.svgPath}
              alt={item.title}
              class="w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16"
            />
            <h3 class="text-lg md:text-xl font-semibold text-[#B8C6CD] font-montserrat">
              {item.title}
            </h3>
            <div class="text-sm md:text-base text-white font-montserrat">
              <p>{item.description}</p>
              {item.secondDescription && <p>{item.secondDescription}</p>}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
