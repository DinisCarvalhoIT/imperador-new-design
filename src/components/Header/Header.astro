---
import HeaderMobile from "./HeaderMobile.astro";
import HeaderPC from "./HeaderPC.astro";
---

<HeaderMobile />
<HeaderPC />

<script>
  const headerEl = document.getElementById("site-header");
  const headerLarge = document.getElementById("header-large");
  const headerSmall = document.getElementById("header-small");
  const gradientBg =
    "linear-gradient(358.9deg, rgba(11, 29, 38, 0) 0.82%, #0B1D26 98.94%)";
  const secondGradientBg =
    "linear-gradient(358.9deg, rgba(11, 29, 38, 0) 0.82%, #0B1D26 26.59%)";

  function updateHeaderBackground() {
    if (!headerEl || !headerLarge || !headerSmall) return;

    if (window.scrollY > 50) {
      headerEl.style.background = secondGradientBg;
      headerLarge.style.opacity = "0";
      headerLarge.style.pointerEvents = "none";
      headerSmall.style.opacity = "1";
      headerSmall.style.pointerEvents = "auto";
    } else {
      headerEl.style.background = gradientBg;
      headerLarge.style.opacity = "1";
      headerLarge.style.pointerEvents = "auto";
      headerSmall.style.opacity = "0";
      headerSmall.style.pointerEvents = "none";
    }
  }

  document.addEventListener("DOMContentLoaded", updateHeaderBackground, {
    once: true,
  });
  window.addEventListener("scroll", updateHeaderBackground, { passive: true });
</script>
