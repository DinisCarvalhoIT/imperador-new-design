---
import HeaderMobile from "./HeaderMobile.astro";
import HeaderPC from "./HeaderPC.astro";
---

<HeaderMobile />
<HeaderPC />

<script>
  const headerEl = document.getElementById("site-header");
  const headerMobileEl = document.getElementById("site-header-mobile");
  const headerLarge = document.getElementById("header-large");
  const headerSmall = document.getElementById("header-small");
  const gradientBg =
    "linear-gradient(358.9deg, rgba(11, 29, 38, 0) 12.82%, #0B1D26 95.94%)";
  const secondGradientBg =
    "linear-gradient(358.9deg, rgba(11, 29, 38, 0) 0.82%, #0B1D26 26.59%)";

  function updateHeaderBackground() {
    // Handle PC Header
    if (headerEl && headerLarge && headerSmall) {
      if (window.scrollY > 50) {
        headerEl.style.background = secondGradientBg;
        headerLarge.style.opacity = "0";
        headerLarge.style.pointerEvents = "none";
        headerSmall.style.opacity = "1";
        headerSmall.style.pointerEvents = "auto";
        headerEl.style.height = "95px";
      } else {
        headerEl.style.background = gradientBg;
        headerLarge.style.opacity = "1";
        headerLarge.style.pointerEvents = "auto";
        headerSmall.style.opacity = "0";
        headerSmall.style.pointerEvents = "none";
        headerEl.style.height = "141px";
      }
    }

    // Handle Mobile Header
    if (headerMobileEl) {
      if (window.scrollY > 50) {
        headerMobileEl.style.background = "#0B1D26";
        headerMobileEl.style.height = "65px";
      } else {
        headerMobileEl.style.background = gradientBg;
        headerMobileEl.style.height = "65px";
      }
    }
  }

  document.addEventListener("DOMContentLoaded", updateHeaderBackground, {
    once: true,
  });
  window.addEventListener("scroll", updateHeaderBackground, { passive: true });
</script>
